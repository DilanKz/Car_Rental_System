<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../assets/css/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../assets/bootstrap/css/bootstrap.min.css">
    <script src="../assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="../assets/css/admin.css">


</head>

<body>


<main class=" position-fixed" style="top: 10px; z-index: 50">

    <div class="ms-2 rounded-4 d-flex flex-column flex-shrink-0 "
         style="margin-top: 8px; width: 60px; height: 97vh; background-color: #DBE2EF">
        <a href="#" class=" d-block p-3 link-body-emphasis text-decoration-none" data-bs-toggle="tooltip"
           data-bs-placement="right" data-bs-original-title="Easy Car Rentals">
            <i class=" fa-solid fa-house"></i>
            <span class="visually-hidden show">Easy Car Rentals</span>
        </a>
        <ul class="nav nav-pills nav-flush flex-column mb-auto text-center">
            <li class="nav-item">
                <a id="btnDashboard" href="#" class="nav-link bottomLine py-3 border-bottom rounded-0"
                   aria-current="page"
                   data-bs-toggle="tooltip" data-bs-placement="right" aria-label="Home"
                   data-bs-original-title="Dashboard">
                    <i class="fa-solid fa-chart-simple"></i>
                </a>
            </li>
            <li>
                <a id="btnAccount" href="#" class="bottomLine nav-link py-3 border-bottom rounded-0"
                   data-bs-toggle="tooltip" data-bs-placement="right" aria-label="Dashboard"
                   data-bs-original-title="Account hub">
                    <i class="fa-solid fa-user-group"></i>
                </a>
            </li>
            <li>
                <a id="btnRequests" href="#" class="bottomLine nav-link py-3 border-bottom rounded-0"
                   data-bs-toggle="tooltip" data-bs-placement="right" aria-label="Orders"
                   data-bs-original-title="Requests">
                    <i class="fa-solid fa-square-poll-horizontal"></i>
                </a>
            </li>
            <li>
                <a id="btnCars" href="#" class="bottomLine nav-link py-3 border-bottom rounded-0"
                   data-bs-toggle="tooltip" data-bs-placement="right" aria-label="Products"
                   data-bs-original-title="Manage Cars">
                    <i class="fa-solid fa-car-on"></i>
                </a>
            </li>
        </ul>
        <div class="dropdown border-top">
            <a href="#"
               class="d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none dropdown-toggle"
               data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fa-solid fa-user-gear text-primary"></i>
            </a>
            <ul class="dropdown-menu text-small shadow">
                <li><a class="dropdown-item" href="#">New project...</a></li>
                <li><a class="dropdown-item" href="#">Settings</a></li>
                <li><a class="dropdown-item" href="#">Profile</a></li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Sign out</a></li>
            </ul>
        </div>
    </div>

</main>

<main id="dashboardFrame" class="">

    <section class="pt-3 mb-3 col vh-100 ps-3" style="width: 94vw;margin-left: 6vw">

        <div class="row rounded-4 w-100" style="background-color: #DBE2EF;">
            <div class="w-auto ps-3 pe-3 py-2">
                <h4 style="border-bottom: 2px solid blue">Dashboard</h4>
            </div>
        </div>

        <div class="row mt-3 w-100 pb-3 rounded-4" style="background-color: #DBE2EF; height: 89%">

            <div class="row ms-2 mt-5">

                <div class="four col-md-3">
                    <div class="counter-box colored rounded-5" style="background-color: #86b7fe">
                        <i class="fa fa-user"></i>
                        <span class="counter">2147</span>
                        <p>Registered Users</p>
                    </div>
                </div>

                <div class="four col-md-3">
                    <div class="counter-box colored rounded-5" style="background-color: #feca86">
                        <i class="fa-solid fa-car-side"></i>
                        <span class="counter">3275</span>
                        <p>Cars</p>
                    </div>
                </div>

                <div class="four col-md-3 colored ">
                    <div class="counter-box colored rounded-5" style="background-color: #fa6969">
                        <i class="fa-solid fa-user-tie"></i>
                        <span class="counter">289</span>
                        <p>Drivers</p>
                    </div>
                </div>

                <div class="four col-md-3">
                    <div class="counter-box colored rounded-5" style="background-color: #d686fe">
                        <i class="fa-solid fa-calendar-check"></i>
                        <span class="counter">1563</span>
                        <p>All Rents</p>
                    </div>
                </div>
            </div>

        </div>

    </section>

</main>

<main id="accountFrame" class="vh-100">

    <!--<section class="pt-3 h-100 col ps-3" style="width: 94vw;margin-left: 6vw">

        <div class="row rounded-4 w-100" style="background-color: #DBE2EF;">
            <div class="w-auto ps-3 pe-3 py-2">
                <h4 style="border-bottom: 2px solid blue">Account hub</h4>
            </div>
        </div>

        <div class="row mt-3 w-100 rounded-4" style="background-color: #DBE2EF; height: 89%">

            <div class="w-100" style="height: 50px">
                <ul class="ms-2 mt-2 nav nav-pills nav-fill" style="width: 200px;height: 50px">
                    <li class="nav-item">
                        <a class="nav-link navItem active bg-info" aria-current="page" href="#">Driver</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link navItem" href="#">Customer</a>
                    </li>
                </ul>
            </div>
            <div class="row">
                <div class="col w-100 h-100">

                </div>
            </div>

        </div>

    </section>-->

    <section class="pt-3 col vh-100 ps-3" style="width: 94vw;margin-left: 6vw">

        <div class="row rounded-4 w-100" style="background-color: #DBE2EF;">
            <div class="w-auto ps-3 pe-3 py-2">
                <h4 style="border-bottom: 2px solid blue">Manage Cars</h4>
            </div>
        </div>

        <div class="row pt-1 mt-3 rounded-4 w-100" style="background-color: #DBE2EF; min-height: 89%;display: block">

            <div class="ms-2 col-2 mt-3 " style="height: max-content">
                <ul class="ms-2 mt-2 nav  nav-fill" style="width: 200px;">
                    <li class="nav-item topLeftRadius">
                        <a class="nav-link navItem active bg-white text-primary" tab="driver" aria-current="page" href="#">Driver</a>
                    </li>
                    <li class="nav-item topRightRadius">
                        <a class="nav-link bg-gray navItem text-primary" tab="customer" href="#">Customer</a>
                    </li>
                </ul>
            </div>

            <div id="driverTab" class="row d-flex justify-content-start flex-wrap align-items-start bg-white" style="height: 70vh; width: 96%;margin-left: 28px;">
                <section id="addDriverFrame">
                    <div class="container-fluid vh-100 vw-100 p-0 d-flex justify-content-center align-items-center position-absolute top-0 start-0" style="z-index: 52;">

                        <div id="bgs" class="w-100 h-100 bg-blur-8 position-absolute z-1"></div>
                        <div class="col-7 bg-info rounded-5 z-3">
                            <h2 class="text-center pt-3 mb-5" id="title">Register Driver</h2>

                            <div class="row">
                                <div class="ms-5 col-5 me-4">
                                    <form role="form">
                                        <fieldset>
                                            <p class="text-uppercase pull-center">General Information</p>
                                            <div class="form-group pb-5">
                                                <input type="text" name="username" id="txtDriverName" class="form-control input-lg" placeholder="Name">
                                            </div>

                                            <div class="form-group pb-5">
                                                <input type="text" name="address" id="txtDriverAddress" class="form-control input-lg" placeholder="Address">
                                            </div>
                                            <div class="form-group pb-5">
                                                <input type="text" name="password" id="txtDriverContact" class="form-control input-lg" placeholder="contact">
                                            </div>
                                            <div class="form-group pb-5">
                                                <input type="text" name="password2" id="txtDriverLicNo" class="form-control input-lg" placeholder="License NO">
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>

                                <div class="col-5 mb-4">
                                    <form role="form">
                                        <fieldset>
                                            <p class="text-uppercase"> Account information </p>

                                            <div class="form-group pb-5">
                                                <input type="email" name="username" id="txtDriverEmail" class="form-control input-lg" placeholder="Email">
                                            </div>
                                            <div class="form-group pb-5">
                                                <input type="text" name="password" id="txtDriverUsername" class="form-control input-lg" placeholder="Username">
                                            </div>
                                            <div class="form-group pb-5">
                                                <input type="text" name="password" id="txtDriverPassword" class="form-control input-lg" placeholder="Password">
                                            </div>

                                            <div class="form-group pb-5" id="driverStateGroup" style="display: none;">
                                                <select name="carState" id="txtDriverState" class="form-select" data-live-search="true">
                                                    <option selected>Driver State</option>
                                                    <option>available</option>
                                                    <option>occupied</option>
                                                </select>
                                            </div>

                                            <div class="pb-5">
                                                <input id="btnDriverRegister" type="button" class="btn btn-sm btn-primary"   value="Register">
                                                <input id="btnDriverUpdate" type="button" class="btn btn-sm btn-warning"   value="Update">
                                            </div>

                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <h3 class="h3 mt-3 col-2">Manage Driver</h3> <button type="button" class="btn btn-sm btn-success mt-4 col-1" id="btnAddDriver"> Add Driver + </button>

                <div class="page-content page-container" id="page-content">
                    <div>
                        <div class="row container d-flex justify-content-center">

                            <div class="col-lg-10">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title">Drivers Table</h4>
                                        <p class="card-description">
                                            click to edit
                                        </p>
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Name</th>
                                                    <th>Address</th>
                                                    <th>License No</th>
                                                    <th>Contact</th>
                                                    <th>Status</th>
                                                </tr>
                                                </thead>
                                                <tbody id="tblDrivers">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div id="customerTab" class="row justify-content-start flex-wrap align-items-start bg-white" style="height: 70vh; width: 96%;margin-left: 28px;display: none">
                <h3 class="h3 mt-3">Manage Customer</h3>
                <div class="page-content page-container">
                    <div>
                        <div class="row container d-flex justify-content-center">

                            <div class="col-lg-10">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title">New Customer Table</h4>
                                        <p class="card-description">
                                            click to approve
                                        </p>
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Name</th>
                                                    <th>Address</th>
                                                    <th>Contact</th>
                                                    <th>Status</th>
                                                </tr>
                                                </thead>
                                                <tbody id="tblNewCustomers">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>

    </section>
</main>

<main id="requestsFrame" class="vh-100">

    <section class="pt-3 col vh-100 ps-3" style="width: 94vw;margin-left: 6vw">

        <div class="row rounded-4 w-100" style="background-color: #DBE2EF;">
            <div class="w-auto ps-3 pe-3 py-2">
                <h4 style="border-bottom: 2px solid blue">Requests</h4>
            </div>
        </div>

        <div class="row mt-3 w-100 rounded-4" style="background-color: #DBE2EF; height: 90%">

        </div>

    </section>

</main>

<main id="carsFrame" class="vh-100">

    <section class="pt-3 col vh-100 ps-3" style="width: 94vw;margin-left: 6vw">

        <div class="row rounded-4 w-100" style="background-color: #DBE2EF;">
            <div class="w-auto ps-3 pe-3 py-2">
                <h4 style="border-bottom: 2px solid blue">Manage Cars</h4>
            </div>
        </div>

        <div class="row pt-1 mt-3 rounded-4 w-100" style="background-color: #DBE2EF; min-height: 89%;display: block">

            <div class="ms-2 col-2 mt-3 " style="height: max-content">
                <button id="btnAddNewCar" class="btn btn-success"><i class="fa-solid fa-plus me-1"></i> Add new car</button>
            </div>

            <div class="row p-4 d-flex justify-content-start flex-wrap align-items-start w-100" id="carContainerView">

            </div>

        </div>

    </section>

</main>

<main id="carViewFrame" class="vh-100 position-fixed p-0 container-fluid top-0 z-index: 100" style="z-index: 100;">
    <div class="vw-100 vh-100 d-flex position-absolute top-0 bg-blur-8" style="z-index: 100;">
    </div>
    <div class="vw-100 vh-100 d-flex justify-content-center align-items-center" style="z-index: 101;">

        <div class="container ">
            <section class="position-relative bg-light pb-3 overflow-hidden row  rounded-5" style="z-index: 102;">


                <div class="d-flex justify-content-center col-12" style="background-color: #222831">
                    <h2 class="h2 text-light">Car Form</h2>
                </div>

                <form id="carFormData" class="col-12">

                    <div class="row">

                        <div class="col-4 mt-3 ms-5 mb-2 pb-2">
                            <div class="form-outline form-white">
                                <input name="regNo" type="text" id="txtRegNo"
                                       class="form-control form-control-sm"/>
                                <label class="form-label" for="txtRegNo">Register Number</label>
                            </div>
                        </div>

                        <div class="row mt-1 mb-1">
                            <div class="col-3">
                                <div  class="mb-2 d-flex justify-content-center">
                                    <img id="imgCarFront" src="https://mdbootstrap.com/img/Photos/Others/placeholder.jpg"
                                         alt="example placeholder" style="height: 120px; max-width: 200px "/>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <div id="carFront" class="btn btn-sm btn-rounded bg-dark">
                                        <label class="form-label text-white m-1" for="btnCarFront">Choose
                                            file</label>
                                        <input name="carFront" type="file" class="form-control d-none" id="btnCarFront"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-2 d-flex justify-content-center">
                                    <img id="imgCarBack" src="https://mdbootstrap.com/img/Photos/Others/placeholder.jpg"
                                         alt="example placeholder" style="height: 120px; max-width: 200px "/>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <div id="carBack" class="btn btn-sm btn-rounded bg-dark">
                                        <label class="form-label text-white m-1" for="btnCarBack">Choose
                                            file</label>
                                        <input name="carBack" type="file" class=" form-control d-none" id="btnCarBack"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-2 d-flex justify-content-center">
                                    <img id="imgCarSide" src="https://mdbootstrap.com/img/Photos/Others/placeholder.jpg"
                                         alt="example placeholder" style="height: 120px; max-width: 200px "/>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <div id="carSide" class="btn btn-sm btn-rounded bg-dark">
                                        <label class="form-label text-white m-1" for="btnCarSide">Choose
                                            file</label>
                                        <input name="carSide" type="file" class="form-control d-none" id="btnCarSide"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="mb-2 d-flex justify-content-center">
                                    <img id="imgCarIn" src="https://mdbootstrap.com/img/Photos/Others/placeholder.jpg"
                                         alt="example placeholder" style="height: 120px; max-width: 200px "/>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <div id="carIn" class="btn btn-sm btn-rounded bg-dark">
                                        <label class="form-label text-white m-1" for="btnCarIn">Choose
                                            file</label>
                                        <input name="carInside" type="file" class=" form-control d-none" id="btnCarIn"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-2">

                            <div class="col-4 me-3 ms-5 pb-2">
                                <div class="form-outline form-white">
                                    <input name="name" type="text" id="txtBrand"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtBrand">Brand Name</label>
                                </div>
                            </div>

                            <div class="ms-4 me-1 col-2 mb-3 pb-2">
                                <div class="form-outline form-white">
                                    <input name="waiverPay" type="text" id="txtWeaverPay"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtWeaverPay">Wavier Payment</label>
                                </div>
                            </div>

                            <div class="ms-4 col-2 mb-3 pb-2">
                                <div class="form-outline form-white">
                                    <input name="wholeKm" type="text" id="txtWholeKm"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtWholeKm">Whole km</label>
                                </div>
                            </div>

                            <div class="ms-5 col-2">
                                <select name="carState" id="txtCarState" class="form-select" data-live-search="true">
                                    <option selected data-tokens="ketchup mustard">Select car State</option>
                                    <option data-tokens="ketchup mustard">Available</option>
                                    <option data-tokens="mustard">Maintenance</option>
                                    <option data-tokens="frosting">Rented</option>
                                </select>
                            </div>

                        </div>

                        <div class="row ">

                            <div class="ms-5 col-2 mb-2 pb-2">
                                <div class="form-outline form-white">
                                    <input name="color" type="text" id="txtColour"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtColour">Colour</label>
                                </div>
                            </div>

                            <div class="ms-1 col-1 mb-2 pb-2 me-1">
                                <div class="form-outline form-white">
                                    <input name="passengers" type="number" id="txtPCount"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtRegNo">Passengers</label>
                                </div>
                            </div>

                            <div class="col-2">
                                <select name="carType" id="txtCarType" class="form-select" data-live-search="true">
                                    <option selected data-tokens="ketchup mustard">Select car type</option>
                                    <option data-tokens="ketchup mustard">Normal</option>
                                    <option data-tokens="mustard">Premium</option>
                                    <option data-tokens="frosting">Luxury</option>
                                </select>
                            </div>

                            <div class="col-3">
                                <select name="carFuelType" id="txtFuelType" class="form-select" data-live-search="true">
                                    <option selected data-tokens="ketchup mustard">Select car fuel type</option>
                                    <option data-tokens="ketchup mustard">Diesel</option>
                                    <option data-tokens="mustard">Petrol</option>
                                </select>
                            </div>

                            <div class="col-3">
                                <select name="carTransmission" id="txtTransmissionType" class="form-select" data-live-search="true">
                                    <option selected data-tokens="ketchup mustard">Select car transmission
                                        type
                                    </option>
                                    <option data-tokens="ketchup mustard">Automatic</option>
                                    <option data-tokens="mustard">Manual</option>
                                </select>
                            </div>

                        </div>

                        <div class="row">

                            <div class="ms-5 col-2 mb-2 pb-2">
                                <div class="form-outline form-white">
                                    <input name="dailyPayment" type="text" id="txtDailyRate"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtDailyRate">Daily Payment</label>
                                </div>
                            </div>

                            <div class="ms-3 col-2 mb-2 pb-2">
                                <div class="form-outline form-white">
                                    <input name="monthlyPayment" type="text" id="txtMonthlyRate"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtMonthlyRate">Monthly Payment</label>
                                </div>
                            </div>

                            <div class="ms-3 col-2 mb-2 pb-2">
                                <div class="form-outline form-white">
                                    <input name="dailyKmLimit" type="text" id="txtDailyLimit"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtDailyLimit">Daily km limit</label>
                                </div>
                            </div>

                            <div class="ms-3 col-2 mb-2 pb-2">
                                <div class="form-outline form-white">
                                    <input name="monthlyKmLimit" type="text" id="txtMonthlyLimit"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtMonthlyLimit">Monthly km limit</label>
                                </div>
                            </div>

                            <div class="ms-3 col-2 mb-2 pb-2">
                                <div class="form-outline form-white">
                                    <input name="extraPerKm" type="text" id="txtExtraKmPrice"
                                           class="form-control form-control-sm"/>
                                    <label class="form-label" for="txtExtraKmPrice">Extra km price</label>
                                </div>
                            </div>

                        </div>

                        <div class="row d-flex mb-3">

                            <button id="btnAddCarClose" type="button"
                                    class="ms-5 col-1 btn btn-outline-secondary btn-sm">Close
                            </button>
                            <div class="col-9"></div>
                            <button id="btnAddCarSave" type="button" class="col-1 btn btn-success btn-sm">Save
                            </button>
                            <button id="btnAddCarUpdate" type="button" class="col-1 btn btn-warning btn-sm">Update
                            </button>

                        </div>

                    </div>

                </form>

            </section>
        </div>
    </div>
</main>

<main id="profileFrame" class="vh-100">

    <section class="pt-3 col vh-100 ps-3" style="width: 94vw;margin-left: 6vw">

        <div class="row rounded-4 w-100" style="background-color: #DBE2EF;">
            <div class="w-auto ps-3 pe-3 py-2">
                <h4 style="border-bottom: 2px solid blue">Profile</h4>
            </div>
        </div>

        <div class="row mt-3 w-100 rounded-4" style="background-color: #DBE2EF; height: 90%">

        </div>

    </section>

</main>


<script !src="">
    $('#addDriverFrame').css('display','none');
    $(document).ready(function(){
        $(".navItem").click(function(){
            $(".navItem").removeClass("active bg-white");
            $(".navItem").addClass("bg-gray");
            $(this).addClass("active bg-white");

            if ($(this).attr('tab')==='customer'){
                $('#driverTab').removeClass("d-flex");
                $('#driverTab').css('display','none');
                $('#customerTab').css('display','flex');
                console.log('hi')
            }else {
                $('#customerTab').css('display','none');
                $('#driverTab').css('display','flex');
            }

        });
    });

    $('#bgs').click(function () {
        $('#addDriverFrame').css('display','none');
    });

</script>

<script src="../controllers/FormControllers/addCarForm.js"></script>
<script src="../util/frontendUtils.js"></script>
<script src="../controllers/adminControllers/adminCarController.js"></script>
<script src="../controllers/adminControllers/adminDashboardController.js"></script>
<script src="../controllers/adminControllers/adminDriverControler.js"></script>
<script src="../controllers/FormControllers/adminDriverForm.js"></script>
</body>

</html>